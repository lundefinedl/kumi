<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kumibrowser</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">


    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/default.css" rel="stylesheet">
    <link href="kumi_browser.css" rel="stylesheet">
    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }
    </style>

    <!--<script type="text/javascript" src="assets/js/jquery-1.7.2.min.js"></script>-->
    <script type="text/javascript" src="assets/js/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="assets/js/jquery.mousewheel.js"></script>
    <script type="text/javascript" src="assets/js/smoothie.js"></script>
    <script type="text/javascript" src="assets/js/jquery-impromptu.js"></script>
    <script type="text/javascript" src="assets/js/jquery.jeditable.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap-button.js"></script>
    <script type="text/javascript" src="kumi_lib.js"></script>
    <script type="text/javascript" src="kumi_browser.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            var fps = $('#fps-canvas');
            fps.get(0).width = fps.parent().width();
            fps.get(0).height = 100;

            var editor = $('#timeline-canvas');
            editor.get(0).width = editor.parent().width();
            var ofs = editor.offset();
            var canvasHeight = window.innerHeight - editor.offset().top - 60;
            editor.get(0).height = canvasHeight;
            var playing = false;
            $('#btn-prev-skip').click(KUMI.onBtnPrevSkip);
            $('#btn-prev').click(KUMI.onBtnPrev);
            $('#btn-play').click(function () {
                playing = !playing;
                // icons from http://p.yusukekamiyamane.com/
                $('#img-play').attr('src', playing ? 'assets/gfx/control-pause.png' : 'assets/gfx/control.png');
                KUMI.onBtnPlay(playing);
            });
            $('#btn-next').click(KUMI.onBtnNext);
            $('#btn-next-skip').click(KUMI.onBtnNextSkip);

            var makeEditFunc = function(idx) {
                return function(value, settings) {
                    return KUMI.onEdited(idx, value);
                };
            };

            $.each(["editX", "editY", "editZ", "editW"], function(idx, id) {
                var cur = $("#" + id);
                cur.editable(makeEditFunc(idx));
                cur.editable("disable");
            });

            KUMI.kbInit();
        });
    </script>


    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
</head>

<body>
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="brand">kumi.browser</a>
            <img id="connection-status" style="padding:5px 0px; float:right;" src="assets/gfx/disconnected.png"/>
        </div>
    </div>
</div>

<div class="container">
    <div class="row-fluid">
        <div class="span6">
            <div class="span6">
                <div class="row-fluid">
                    <div class="label" id="labelX">X</div><div class="edit" id="editX">-</div>
                    <div class="label" id="labelY">Y</div><div class="edit" id="editY">-</div>
                </div>
            </div>
            <div class="span6">
                <div class="row-fluid">
                    <div class="label" id="labelZ">Z</div><div class="edit" id="editZ">-</div>
                    <div class="label" id="labelW">W</div><div class="edit" id="editW">-</div>
                </div>
            </div>
        </div>
        <div class="span6">
            <canvas id="fps-canvas"></canvas>
            <div class="row-fluid">
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <button id="btn-prev-skip" class="btn"><img src="assets/gfx/control-skip-180.png"/></button>
                        <button id="btn-prev" class="btn"><img src="assets/gfx/control-double-180.png"/></button>
                        <button id="btn-play" class="btn"><img id="img-play" src="assets/gfx/control.png"/></button>
                        <button id="btn-next" class="btn"><img src="assets/gfx/control-double.png"/></button>
                        <button id="btn-next-skip" class="btn"><img src="assets/gfx/control-skip.png"/></button>
                    </div>
                    <div class="btn-group">
                        <button id="cur-time" style="font-size: 20px; font-weight: bold" class="btn"></button>
                        <button id="dbg-time" style="font-size: 10px; font-weight: bold" class="btn"></button>
                    </div>

                    <div class="btn-group" data-toggle="buttons-radio">
                        <button class="btn" onclick="KUMI.showFps(true);">fps</button>
                        <button class="btn" onclick="KUMI.showFps(false);">ms</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- row -->
    <div>
        <div class="row">
        </div>
        <div class="row-fluid">
            <canvas id="timeline-canvas"></canvas>
        </div>

    </div>
    <!--/.fluid-container-->
</div>
</body>
</html>
